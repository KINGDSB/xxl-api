<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
       "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xxl.api.admin.dao.BlueStarUserProfileMapper">
		 <sql id="BlueStarProlife">
			<trim suffixOverrides=",">
			<if test="name != null and name !=''">
                           name=#{name},
             </if>
             <if test="address != null and address !=''">
                           address=#{address},
             </if>
             <if test="idNumber != null and idNumber != ''">
                           id_number=#{idNumber},
             </if>	 
             </trim> 
		  </sql>
      <insert id="addUserProfile"  parameterType="com.xxl.api.admin.core.model.BlueStarUserProfileDTO">
      		INSERT INTO xxl_api_user_profile
      		<trim prefix="(" suffix=")" suffixOverrides=",">
      			 <if test="userId != null">
                           user_id,
                    </if>
                    <if test="name != null">
                           name,
                    </if>
                    <if test="address != null">
                           address,
                    </if>
                    <if test="idNumber != null">
                           id_number,
                    </if>
               </trim>     
           	  	<trim prefix="values (" suffix=")" suffixOverrides=",">
                    <if test="userId!= null">
                           #{userId,jdbcType=INTEGER},
                    </if>
                    <if test="name != null">
                           #{name,jdbcType=VARCHAR},
                    </if>
                    <if test="address != null">
                           #{address,jdbcType=VARCHAR},
                    </if>
                    <if test="idNumber != null">
                           #{idNumber,jdbcType=VARCHAR},
                    </if>  
                  </trim>         
      	</insert>
        <update id="updateProfile" parameterType="com.xxl.api.admin.core.model.BlueStarUserProfileDTO">
		     		 UPDATE xxl_api_user_profile SET
		     	 <include refid="BlueStarProlife"></include>
		      		 WHERE
		      	 		user_id = #{userId}
        </update>	
     
			<select id="existProfileUserId" parameterType="java.lang.String" resultType="com.xxl.api.admin.core.model.BlueStarUserProfileDTO">
			SELECT 
				user_id
			FROM 
				xxl_api_user_profile 
			WHERE 
				user_id = #{userId}
			</select>
</mapper>