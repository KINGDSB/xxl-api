<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
       "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xxl.api.admin.dao.BlueStarApplyDao">
       <insert id="addApplyOf" parameterType="com.xxl.api.admin.core.model.XxlApplyfrom" useGeneratedKeys="true" keyProperty="ID" >
             INSERT INTO xxl_api_applyof (
                    apply_of_name,
                    apply_of_project_name,
                    apply_of_port,
                    apply_of_date,
                	apply_of_status
             ) VALUES (
                    #{applyOfName},
                    #{applyOfProjectName},
                    #{applyOfPort},
                    #{applyOfDate},
                    #{applyOfStatus}
             );
       </insert>
      <insert id="updataAudit" parameterType="com.xxl.api.admin.core.model.BlueStarAudit" useGeneratedKeys="true" keyProperty="id" >
				INSERT INTO xxl_api_audit_log (
					apply_of_id,
					auditor,
					biz_coment,
					apply_date
				) VALUES (
					#{applyOfId},
					#{auditor},
					#{bizComent},
					#{applyDate}
				);
	</insert>
	<update id="setAgreement" parameterType="com.xxl.api.admin.core.model.BlueStarAudit" >
				UPDATE xxl_api_applyof 
				SET apply_of_status=1 
				WHERE ID =#{applyOfId};
	</update>
	

</mapper>